{% extends 'layout.html' %}
{% block content %}
    <div class="container">
        <form method="post" class="py-3">
            <div class="form-floating mb-3">
                <input type="text" class="form-control" id="title" name="title" placeholder="제목" maxlength="60" required value="{{ title }}">
                <label for="title">제목</label>
            </div>
            <textarea id="editor" name="editor" style="display:none;">{{ html|safe }}</textarea>
            <hr>
            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" name="public" value="true" id="public">
                <label class="form-check-label" for="public">이 프로젝트를 공개합니다.</label>
            </div>
            <div class="d-grid gap-2">
                <button class="btn btn-primary btn-lg" type="submit">프로젝트 수정</button>
            </div>
        </form>
    </div>
{% endblock %}
{% block script %}
    <script src="{{ url_for('static', filename='ckeditor.min.js') }}"></script>
    <script>
        ClassicEditor.create(document.getElementById("editor"), {
            toolbar: {
                items: [
                    'heading',
                    'fontSize',
                    '|',
                    'bold',
                    'link',
                    'bulletedList',
                    'numberedList',
                    '|',
                    'outdent',
                    'indent',
                    '|',
                    'blockQuote',
                    'insertTable',
                    'mediaEmbed',
                    '|',
                    'codeBlock',
                    'todoList',
                    'horizontalLine',
                    '|',
                    'undo',
                    'redo'
                ]
            },
            language: 'ko',
            table: {
                contentToolbar: [
                    'tableColumn',
                    'tableRow',
                    'mergeTableCells'
                ]
            },
            licenseKey: '',
        }).then(function(editor){
            window.editor = editor;
        }).catch(function(error){
            console.error("Error! Build ID: 6eqerbigdhi6-8tkzn51pwbue");
            console.error(error);
        });
    </script>
{% endblock %}